<mat-toolbar color="primary" class="app-toolbar">
  <button type="button" class="app-title" mat-button routerLink="/cars">Car Sharing</button>
  <span class="spacer"></span>
  <nav>
    <a
      *ngFor="let link of navLinks; trackBy: trackByPath"
      mat-button
      routerLink="{{ link.path }}"
      routerLinkActive="active-link"
      [class.hidden]="!canDisplay(link)"
    >
      {{ link.label }}
    </a>
  </nav>
  <span class="spacer"></span>
  <ng-container *ngIf="auth.isAuthenticated(); else signIn">
    <span class="user-name">{{ auth.profile()?.fullName ?? auth.profile()?.email }}</span>
    <button type="button" mat-stroked-button color="accent" (click)="logout()">Logout</button>
  </ng-container>
  <ng-template #signIn>
    <button type="button" mat-flat-button color="accent" (click)="login()">Login</button>
  </ng-template>
</mat-toolbar>

<mat-progress-bar *ngIf="auth.loading()" mode="indeterminate" color="accent"></mat-progress-bar>

<main class="app-container">
  <router-outlet />
</main>