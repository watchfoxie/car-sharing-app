spring:
  datasource:
    driver-class-name: org.postgresql.Driver
  
  jpa:
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        '[default_schema]': pricing
        '[show_sql]': false
        '[format_sql]': true
    show-sql: false
  
  flyway:
    enabled: true
    schemas: pricing
    baseline-on-migrate: true
    validate-on-migrate: true
    locations:
      - classpath:db/migration
      - classpath:db/migration/pricing
  
  cache:
    type: none  # Disable caching in tests
  
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: http://localhost:8180/realms/car-sharing  # Mock for tests

  cloud:
    vault:
      enabled: false

  quartz:
    job-store-type: memory
    auto-startup: false

  autoconfigure:
    exclude:
      - org.springframework.cloud.vault.config.VaultAutoConfiguration
      - org.springframework.cloud.vault.config.VaultReactiveAutoConfiguration

logging:
  level:
    '[com.services.pricing_rules_service]': DEBUG
    '[org.hibernate.SQL]': DEBUG
    '[org.hibernate.type.descriptor.sql.BasicBinder]': TRACE

management:
  health:
    vault:
      enabled: false
